# AI駆動開発におけるIssue構築の原則

## Issue作成の成功/失敗パターン（検証結果）

### 成功パターン

**Issueの明確化: テンプレートと制約の活用**
- 「解決したい問題」「機能」「制約/前提条件」を明確に書く
- 一発で理想的なPRが作成される
- **Issueの質がアウトプットの質に直結する**

**AIに計画（TODO）を作らせるアプローチ**
- いきなり実装させず、まずIssueを読ませて「実行計画とTODO」をAI自身に考えさせる
- その手順通りに実装させる

### 失敗パターン

**長文・詳細なコンテキスト（経緯含む）を渡す**
- 過去の議論、試行錯誤、ボツになった案まで含めると混同する
- 最新の設計とは異なる実装を行う
- 既存コードの悪いパターンを繰り返す

**「コードを読め」等の指示のみ**
- 質問は減るが方向転換ができない
- 修正がしづらくなり実務レビューが発生

## Issue必須項目

1. **解決したい問題**: 何を解決するのか（1-2文）
2. **機能**: 期待する状態・振る舞い
3. **制約/前提条件**: ガードレール、関連ファイル、エラー情報

## ガードレール（司法）の種類

### 細則主義（0/1判定）
- ESLint / Biome
- 型定義（tsconfig.json）
- API契約
- E2Eテスト

### 原則主義（スコア判定）
- UXの自然さ
- 命名の意味
- 責務分割の妥当性

## コンテキスト提供のベストプラクティス

- コード内のヒント（ディレクトリ等）は提示する
- 過度な制約は避ける
- インフラやミドルウェア周りはドキュメントを参照させる

## 参照元

- `.claude/.local/AI駆動開発方針.md`
- `.claude/.local/AI駆動開発の発達段階.md`
