# Prototype デプロイ設計ヒアリング項目

下記の質問に回答してください。設計を具体化する際の前提情報として利用します。

## ブランチ/リポジトリ構成
- prototype 用ブランチの命名ルールやパターンはどうなっていますか？
各種AIエージェントが独自のprefixを持つことがあるので、「ブランチ名にprototypeを含んでいる」にしようかと思います

- `prototype` ディレクトリ配下の構成はどのような想定ですか？（単一アプリ or 複数アプリ）
わかりやすいようにブランチ名と同名のディレクトリを切ってもらうようにしようかと思います
そのなかで完全に独立した、起動可能なアプリケーションをつくってもらうことをAGENTS.mdに記載しておきたいです

## デプロイ環境
- デプロイ先はどこですか？（Cloudflare のどのサービスを利用予定ですか？例: Pages, Workers, R2 など）
Cloudflare Workersですね

- 既に使っている CLI やデプロイスクリプトはありますか？
ないです

## 実行フロー
- ビルド・デプロイのエントリーポイントとなる共通スクリプトは何ですか？（例: `prototype/scripts/deploy.sh`）
今はないです。これも定義してほしいです。shellscriptでいいかなとおもってます。

- そのスクリプトが受け取る引数や環境変数は何ですか？
必要が出てきたら考えます。ただ、Cloudflareにデプロイするために何か必要だったりしますか？

- ビルドやデプロイで必要な追加ステップ（依存関係のインストールなど）はありますか？
必要なステップは必ずデプロイ用のshellに入れてもらうよう、AGENTS.mdに記載しておきたいです

## シークレット/設定
- デプロイに必要な環境変数やシークレットは何ですか？
  必要が出てきたら考えます。ただ、Cloudflareにデプロイするために何か必要だったりしますか？

- GitHub Actions のどのシークレットに設定済みですか？
何も設定してないです、まだ

## 成果物と通知
- デプロイ後にはどのような成果物（URL など）が得られますか？
claudflareのURLは欲しいですね

- その成果物をどこに通知・記録しますか？（例: PR コメント、Slack 通知、Artifacts）
一旦PRコメントとかで良いです

## クリーンアップ/ライフサイクル
- ブランチが削除された際に、デプロイ環境も削除する必要がありますか？
- 必要な場合、その削除はどのような手段で行いますか？
できれば消したいですが、一旦デプロイしたままでよいです

## 同時デプロイ
- 複数の prototype ブランチが同時に存在する場合、リソースの命名衝突を避ける工夫はありますか？
これは問題が発生したら考えますが、ブランチ名でユニークにしようかなとおもってます

- デプロイごとにユニークな URL や名前をどう決定しますか？
可能であれば ブランチ名でユニークにしたいです、なので、同名ブランチで再度トリガーが動いたら最新のデプロイで上書きされるイメージです

## トリガー
- GitHub Actions のトリガーは push のみで十分ですか？
manual実行もできるようにしてもらえたらありがたいです

- PR 作成/更新やスケジュール実行など、他に必要なトリガーはありますか？
一旦ないですかね

## その他
- 追加で考慮すべき要件や制約はありますか？
- 想定している開発フローやレビュー手順はありますか？
